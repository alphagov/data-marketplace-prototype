{% extends "WIP/_layouts/main.html" %}

{% block pageTitle %}
  Title
{% endblock %}


{% block beforeContent %}
{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}
{{ govukPhaseBanner({
  tag: {
    text: "Beta"
  },
  html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
}) }}

<a class="govuk-back-link" href="#">Your data listings</a>
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-l">
        {{ data['title'] }} (draft)
      </h1>

      {% set path = "/WIP/publish/manual" %}

      <h2 class="govuk-heading-m">
        General
      </h2>

      {{ govukTaskList({
        items: [
          {
            title: {
              text: "Title"
            },
            href: path + "/title",
            status: {
              text: "Done"
            }
          },
          {
            title: {
              text: "Description"
            },
            href: path + "/description",
            status: {
                text: "Done"
            } if data['description'] else {
              tag: {
                text: "To do"
               }
            }
          
          },
          {
            title: {
              text: "Reference"
            },
            href: path + "/reference",
            status: {
                text: "Done"
            } if data['reference'] else {
              tag: {
                text: "To do"
               }
            }
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">
        Themes and keywords
      </h2>

      {{ govukTaskList({
        items: [
          {
            title: {
              text: "Themes"
            },
            href: path + "/themes",
            status: {
              text: "Done"
            } if data['themes'] else {
              tag: {
                text: "To do"
              }
            }
          },
          {
            title: {
              text: "Keywords"
            },
            href: path + "/keywords",
            status: {
              text: "Done"
            } if data['keywords'] else {
              tag: {
                text: "To do"
              }
            }
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">
        Contact and owner
      </h2>

      {{ govukTaskList({
        items: [
          {
            title: {
              text: "Point of contact"
            },
            href: path + "/contact",
            status: {
              text: "Done"
            } if data['contactName'] else {
              tag: {
                text: "To do"
              }
            }
          },
          {
            title: {
              text: "Owner"
            },
            href: path + "/owner",
            status: {
              text: "Done"
            } if data['ownerName'] else {
              tag: {
                text: "To do"
              }
            }
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">
        Additional information
      </h2>

      {{ govukTaskList({
        items: [
          {
            title: {
              text: "Date first made available"
            },
            href: path + "/date-published",
            status: {
              text: "Done"
            } if data['datePublished-day'] else {
              tag: {
                text: "To do"
              }
            }
          },
          {
            title: {
              text: "Update frequency"
            },
            href: path + "/frequency",
            status: {
              text: "Done"
            } if data['frequency'] else {
              tag: {
                text: "To do"
              }
            }
          },
          {
            title: {
              text: "Public or restricted data"
            },
            href: path + "/access",
            status: {
              text: "Done"
            } if data['access'] else {
              tag: {
                text: "To do"
              }
            }
          },
          {
            title: {
              text: "Licence"
            },
            href: path + "/licence",
            status: {
              text: "Done"
            } if data['licence'] else {
              tag: {
                text: "To do"
              }
            }
          } if data['access'] == "Public",
          {
            title: {
              text: "Links"
            },
            href: path + "/links",
            status: {
              text: "Done"
            } if data['links'] else {
              tag: {
                text: "To do"
              }
            }
          } if data['access'] == "Public",
          {
            title: {
              text: "Formats"
            },
            href: path + "/formats",
            status: {
              text: "Done"
            } if data['formats'] else {
              tag: {
                text: "To do"
              }
            }
          } if data['access'] == "Restricted"
        ]
      }) }}

        {{ govukButton({
          text: "Review and submit",
          href: "/WIP/publish/manual/check-answers"
        }) }}
      

      <p>
        <a class="govuk-link" href="#">Delete draft</a>
      </p>

    </div>

  </div>

{% endblock %}
